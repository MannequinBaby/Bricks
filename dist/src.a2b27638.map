{"version":3,"sources":["src/paddle.js","src/input.js","src/collisionDetection.js","src/ball.js","src/brick.js","src/levels.js","src/game.js","src/index.js"],"names":["Paddle","game","gameWidth","gameHeight","width","height","maxSpeed","currentSpeed","position","x","y","ctx","fillStyle","fillRect","deltaTime","InputHandler","paddle","document","addEventListener","event","keyCode","moveLeft","moveRight","togglePause","start","moveStop","collision","ball","gameObject","bottomOfBall","size","topOfBall","topOfGameObject","bottomOfGameObject","leftOfGameObject","rightOfGameObject","Ball","image","getElementById","speed","drawImage","gameLives","reset","Brick","markedForDeletion","buildLevel","level","bricks","forEach","row","rowIndex","brickIsh","brickIndex","push","level1","testLevel","GAME_STATE","PAUSED","RUNNING","MENU","GAMEOVER","NEWLEVEL","Game","gameState","gameObjects","currentLevel","levels","length","object","update","filter","current","draw","rect","fill","font","textAlign","fillText","canvas","getContext","GAME_WIDTH","GAME_HEIGHT","lastTime","gameLoop","timestamp","clearRect","requestAnimationFrame"],"mappings":"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","file":"src.a2b27638.map","sourceRoot":"..","sourcesContent":["export default class Paddle {\n  constructor(game) {\n    this.gameWidth = game.gameWidth;\n    this.gameHeight = game.gameHeight;\n    this.width = 150;\n    this.height = 20;\n    this.maxSpeed = 6;\n    this.currentSpeed = 0;\n\n    this.position = {\n      x: this.gameWidth / 2 - this.width / 2,\n      y: this.gameHeight - this.height - 10\n    };\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = \"#0ff\";\n    ctx.fillRect(this.position.x, this.position.y, this.width, this.height);\n  }\n\n  update(deltaTime) {\n    this.position.x += this.currentSpeed;\n    if (this.position.x < 0) {\n      this.position.x = 0;\n    }\n    if (this.position.x > this.gameWidth - this.width) {\n      this.position.x = this.gameWidth - this.width;\n    }\n  }\n\n  moveLeft() {\n    this.currentSpeed = -this.maxSpeed;\n  }\n  moveRight() {\n    this.currentSpeed = this.maxSpeed;\n  }\n  moveStop() {\n    this.currentSpeed = 0;\n  }\n}\n","export default class InputHandler {\n  constructor(paddle, game) {\n    document.addEventListener(\"keydown\", event => {\n      switch (event.keyCode) {\n        case 37:\n          paddle.moveLeft();\n          break;\n        case 39:\n          paddle.moveRight();\n          break;\n        case 27:\n          game.togglePause();\n        case 32:\n          game.start();\n      }\n    });\n\n    document.addEventListener(\"keyup\", function(event) {\n      switch (event.keyCode) {\n        case 37:\n          if (paddle.currentSpeed < 0) {\n            paddle.moveStop();\n            break;\n          }\n        case 39:\n          if (paddle.currentSpeed > 0) {\n            paddle.moveStop();\n            break;\n          }\n      }\n    });\n  }\n}\n","export function collision(ball, gameObject) {\n  let bottomOfBall = ball.position.y + ball.size;\n  let topOfBall = ball.position.y;\n\n  let topOfGameObject = gameObject.position.y;\n  let bottomOfGameObject = gameObject.position.y + gameObject.height;\n  let leftOfGameObject = gameObject.position.x;\n  let rightOfGameObject = gameObject.position.x + gameObject.width;\n\n  if (\n    bottomOfBall >= topOfGameObject &&\n    topOfBall <= bottomOfGameObject &&\n    (ball.position.x >= leftOfGameObject &&\n      ball.position.x + ball.size <= rightOfGameObject)\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n","import {collision} from \"/src/collisionDetection.js\";\nexport default class Ball {\n  constructor(game) {\n    //this.game allows us to check the position of anything\n    //inside the game, by this.game.paddle.position.x;\n    this.game = game;\n    this.gameWidth = game.gameWidth;\n    this.gameHeight = game.gameHeight;\n    this.image = document.getElementById(\"imgBall\");\n    this.size = 16;\n    this.speed = {\n      x: 4,\n      y: -2\n    };\n    this.position = {\n      x: 0,\n      y: this.gameHeight / 2\n    };\n  }\n  draw(ctx) {\n    ctx.drawImage(\n      this.image,\n      this.position.x,\n      this.position.y,\n      this.size,\n      this.size\n    );\n  }\n  update(deltaTime) {\n    this.position.x += this.speed.x;\n    this.position.y += this.speed.y;\n    //wall on left or right\n    if (this.position.x > this.gameWidth - this.size || this.position.x < 0) {\n      this.speed.x = -this.speed.x;\n    }\n    //wall on bottom or top\n    if (this.position.y < 0) {\n      this.speed.y = -this.speed.y;\n    }\n    if (this.position.y > this.gameHeight - this.size) {\n      this.game.gameLives--;\n      this.reset();\n    }\n    //collision with paddle\n    if (collision(this, this.game.paddle)) {\n      this.speed.y = -this.speed.y;\n      this.position.y = this.game.paddle.position.y - this.size;\n    }\n  }\n  reset() {\n    this.position = {\n      x: 0,\n      y: this.gameHeight / 2\n    };\n    this.speed = {\n      x: 4,\n      y: -2\n    };\n  }\n}\n","import {collision} from \"/src/collisionDetection.js\";\n\nexport default class Brick {\n  constructor(game, position) {\n    this.game = game;\n    this.image = document.getElementById(\"imgBrick\");\n    this.width = this.game.gameWidth / 9;\n    this.height = this.game.gameHeight / 15;\n    this.position = position;\n    this.markedForDeletion = false;\n  }\n  draw(ctx) {\n    ctx.drawImage(\n      this.image,\n      this.position.x,\n      this.position.y,\n      this.width,\n      this.height\n    );\n  }\n  update(deltaTime) {\n    if (collision(this.game.ball, this)) {\n      this.game.ball.speed.y = -this.game.ball.speed.y;\n      this.markedForDeletion = true;\n    }\n  }\n}\n","import Brick from \"/src/brick.js\";\nexport function buildLevel(game, level) {\n  let bricks = [];\n  level.forEach(function(row, rowIndex) {\n    row.forEach(function(brickIsh, brickIndex) {\n      if (brickIsh === 1) {\n        let position = {\n          x: (500 / 9) * brickIndex,\n          y: 50 + (300 / 15) * rowIndex\n        };\n        bricks.push(new Brick(game, position));\n      }\n    });\n  });\n  return bricks;\n}\n\nexport const level1 = [\n  [1, 0, 1, 0, 1, 0, 1, 0, 1],\n  [1, 1, 1, 1, 1, 1, 1, 1, 1],\n  [1, 1, 1, 1, 1, 1, 1, 1, 1],\n  [1, 1, 1, 1, 1, 1, 1, 1, 1]\n];\n\nexport const testLevel = [\n  [1, 0, 0, 1, 1, 1, 0, 0, 1],\n  [1, 1, 1, 0, 0, 1, 1, 1, 1],\n  [1, 1, 1, 1, 1, 1, 1, 1, 1],\n  [1, 1, 1, 1, 1, 1, 1, 1, 1]\n];\n","import Paddle from \"/src/paddle.js\";\nimport InputHandler from \"/src/input.js\";\nimport Ball from \"/src/ball.js\";\nimport Brick from \"/src/brick.js\";\nimport {buildLevel, testLevel, level1} from \"/src/levels.js\";\n\nconst GAME_STATE = {\n  PAUSED: 0,\n  RUNNING: 1,\n  MENU: 2,\n  GAMEOVER: 3,\n  NEWLEVEL: 4\n};\n\nexport default class Game {\n  constructor(gameWidth, gameHeight) {\n    this.gameWidth = gameWidth;\n    this.gameHeight = gameHeight;\n    this.gameState = GAME_STATE.MENU;\n    this.paddle = new Paddle(this);\n    this.ball = new Ball(this);\n    this.gameObjects = [];\n    this.gameLives = 3;\n    this.bricks = [];\n    this.currentLevel = 0;\n    this.levels = [testLevel, level1];\n    new InputHandler(this.paddle, this);\n  }\n  start() {\n    if (\n      this.gameState !== GAME_STATE.MENU &&\n      this.gameState !== GAME_STATE.NEWLEVEL\n    ) {\n      return;\n    } else {\n      if (this.currentLevel >= this.levels.length) {\n        this.gameState = GAME_STATE.GAMEOVER;\n      } else {\n        this.bricks = buildLevel(this, this.levels[this.currentLevel]);\n        this.ball.reset();\n        this.gameObjects = [this.ball, this.paddle];\n        this.gameState = GAME_STATE.RUNNING;\n      }\n    }\n  }\n  update(deltaTime) {\n    if (this.gameLives === 0) {\n      this.gameState = GAME_STATE.GAMEOVER;\n    }\n    if (\n      this.gameState === GAME_STATE.PAUSED ||\n      this.gameState === GAME_STATE.MENU ||\n      this.gameState === GAME_STATE.GAMEOVER\n    )\n      return;\n\n    if (this.bricks.length === 0) {\n      this.currentLevel++;\n      this.gameState = GAME_STATE.NEWLEVEL;\n      this.start();\n    }\n    {\n      [...this.gameObjects, ...this.bricks].forEach(object => {\n        object.update(deltaTime);\n      });\n\n      this.bricks = this.bricks.filter(function(current) {\n        return !current.markedForDeletion;\n      });\n    }\n  }\n  draw(ctx) {\n    [...this.gameObjects, ...this.bricks].forEach(object => {\n      object.draw(ctx);\n    });\n    if (this.gameState === GAME_STATE.PAUSED) {\n      ctx.rect(0, 0, this.gameWidth, this.gameHeight);\n      ctx.fillStyle = \"rgba(0,0,0,.5)\";\n      ctx.fill();\n      ctx.font = \"30px Arial\";\n      ctx.fillStyle = \"white\";\n      ctx.textAlign = \"center\";\n      ctx.fillText(\"Paused\", this.gameWidth / 2, this.gameHeight / 2);\n    }\n    if (this.gameState === GAME_STATE.MENU) {\n      ctx.rect(0, 0, this.gameWidth, this.gameHeight);\n      ctx.fillStyle = \"rgba(0,0,0,1)\";\n      ctx.fill();\n      ctx.font = \"30px Arial\";\n      ctx.fillStyle = \"white\";\n      ctx.textAlign = \"center\";\n      ctx.fillText(\n        \"Press 'space' to start\",\n        this.gameWidth / 2,\n        this.gameHeight / 2\n      );\n    }\n    if (this.gameState === GAME_STATE.GAMEOVER) {\n      ctx.rect(0, 0, this.gameWidth, this.gameHeight);\n      ctx.fillStyle = \"rgba(0,0,0,1)\";\n      ctx.fill();\n      ctx.font = \"30px Arial\";\n      ctx.fillStyle = \"white\";\n      ctx.textAlign = \"center\";\n      ctx.fillText(\"GAME OVER\", this.gameWidth / 2, this.gameHeight / 2);\n    }\n  }\n\n  togglePause() {\n    if (this.gameState === GAME_STATE.PAUSED) {\n      this.gameState = GAME_STATE.RUNNING;\n    } else {\n      this.gameState = GAME_STATE.PAUSED;\n    }\n  }\n}\n","import Game from \"/src/game.js\";\n\nlet canvas = document.getElementById(\"gameScreen\");\nlet ctx = canvas.getContext(\"2d\");\nconst GAME_WIDTH = 500;\nconst GAME_HEIGHT = 300;\n//images\n\nlet game = new Game(GAME_WIDTH, GAME_HEIGHT);\nlet lastTime = 0;\nfunction gameLoop(timestamp) {\n  let deltaTime = timestamp - lastTime;\n  lastTime = timestamp;\n  ctx.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT);\n  game.update(deltaTime);\n  game.draw(ctx);\n\n  requestAnimationFrame(gameLoop);\n}\n\nrequestAnimationFrame(gameLoop);\n"]}